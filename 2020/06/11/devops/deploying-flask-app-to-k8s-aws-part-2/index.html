<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="IntroductionIn the previous article, we containerized our Flask API using Docker. In this article, we will be deploying the application created earlier to AWS ECR. This article assumes that you have a">
<meta property="og:type" content="article">
<meta property="og:title" content="Deploying a Flask App to Kubernetes on AWS - Part 2">
<meta property="og:url" content="https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/index.html">
<meta property="og:site_name" content="Allan Mogusu">
<meta property="og:description" content="IntroductionIn the previous article, we containerized our Flask API using Docker. In this article, we will be deploying the application created earlier to AWS ECR. This article assumes that you have a">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-06-11T11:30:56.000Z">
<meta property="article:modified_time" content="2020-07-11T18:05:52.264Z">
<meta property="article:author" content="Allan Mogusu">
<meta property="article:tag" content="flask">
<meta property="article:tag" content="aws kubernetes">
<meta property="article:tag" content="python">
<meta property="article:tag" content="kubernetes">
<meta property="article:tag" content="flask k8s">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Deploying a Flask App to Kubernetes on AWS - Part 2</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 4.2.1"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="https://github.com/allan690" target="_blank" rel="noopener">Projects</a></li>
         
          <li><a href="/contact/">Contact</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2020/06/12/devops/deploying-flask-app-to-k8s-aws-part-3/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-1/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/" target="_blank" rel="noopener"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&text=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&title=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&is_video=false&description=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Deploying a Flask App to Kubernetes on AWS - Part 2&body=Check out this article: https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&title=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&title=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&title=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&title=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&name=Deploying a Flask App to Kubernetes on AWS - Part 2&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&t=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pushing-Images-to-AWS-ECR"><span class="toc-number">2.</span> <span class="toc-text">Pushing Images to AWS ECR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-the-K8s-cluster"><span class="toc-number">3.</span> <span class="toc-text">Creating the K8s cluster</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-the-cluster-state-storage"><span class="toc-number">4.</span> <span class="toc-text">Creating the cluster state storage</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-the-cluster"><span class="toc-number">5.</span> <span class="toc-text">Creating the cluster</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-number">6.</span> <span class="toc-text">Conclusion</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Deploying a Flask App to Kubernetes on AWS - Part 2
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Allan Mogusu</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2020-06-11T11:30:56.000Z" itemprop="datePublished">2020-06-11</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/devops/">devops</a> â€º <a class="category-link" href="/categories/devops/flask/">flask</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/devops/" rel="tag">devops</a>, <a class="tag-link" href="/tags/flask/" rel="tag">flask</a>, <a class="tag-link" href="/tags/python/" rel="tag">python</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>In the previous article, we containerized our Flask API using Docker. In this article, we will be deploying the application created earlier to AWS ECR.</p>
<p>This article assumes that you have an AWS account, <a href="https://kops.sigs.k8s.io/install/#installing-aws-cli-tools" target="_blank" rel="noopener">the aws cli installed</a>, and that you have created your registry repository. The registry repo is where our docker images will be hosted. To create the registry repo, you can follow <a href="https://docs.aws.amazon.com/AmazonECR/latest/userguide/repository-create.html" target="_blank" rel="noopener">these steps here</a>.</p>
<p>With your repository created and ready, we can get started.</p>
<h2 id="Pushing-Images-to-AWS-ECR"><a href="#Pushing-Images-to-AWS-ECR" class="headerlink" title="Pushing Images to AWS ECR"></a>Pushing Images to AWS ECR</h2><p>The first thing we will do is push our docker image to ECR. To do so, we need to authenticate our docker daemon and give it permissions to push to AWS ECR.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin ****.dkr.ecr.us-east-1.amazonaws.com/moringa</span><br></pre></td></tr></table></figure>

<p>Running this command authenticates our docker daemon and gives it privileges to push to ECR. We can now proceed to build and push our image as follows:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># building and tagging the image</span></span><br><span class="line">docker build -t ****.dkr.ecr.us-east-1.amazonaws.com/flas:0.0.1</span><br><span class="line"></span><br><span class="line"><span class="comment"># pushing it to aws ecr</span></span><br><span class="line">docker push ****.dkr.ecr.us-east-1.amazonaws.com/moringa:0.0.1</span><br></pre></td></tr></table></figure>
<p>Pushing the image may take some time depending on the size of your image. This done, we can now create our Kubernetes cluster.</p>
<h2 id="Creating-the-K8s-cluster"><a href="#Creating-the-K8s-cluster" class="headerlink" title="Creating the K8s cluster"></a>Creating the K8s cluster</h2><p>A Kubernetes cluster hosts instances of Nodes(Virtual machines) running instances of our docker containers. To create our cluster, we will use the <a href="https://kops.sigs.k8s.io/install/" target="_blank" rel="noopener">kops</a> utility that you can install from <a href="https://kops.sigs.k8s.io/install/" target="_blank" rel="noopener">here</a>.</p>
<p>Before setting up the cluster, we need to first set up the <code>IAM user</code> kops will be using with the following IAM permissions:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">AmazonEC2FullAccess</span><br><span class="line">AmazonRoute53FullAccess</span><br><span class="line">AmazonS3FullAccess</span><br><span class="line">IAMFullAccess</span><br><span class="line">AmazonVPCFullAccess</span><br></pre></td></tr></table></figure>
<p>You can do that as follows:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">aws iam create-group --group-name kops</span><br><span class="line"></span><br><span class="line">aws iam attach-group-policy --policy-arn arn:aws:iam::aws:policy/AmazonEC2FullAccess --group-name kops</span><br><span class="line">aws iam attach-group-policy --policy-arn arn:aws:iam::aws:policy/AmazonRoute53FullAccess --group-name kops</span><br><span class="line">aws iam attach-group-policy --policy-arn arn:aws:iam::aws:policy/AmazonS3FullAccess --group-name kops</span><br><span class="line">aws iam attach-group-policy --policy-arn arn:aws:iam::aws:policy/IAMFullAccess --group-name kops</span><br><span class="line">aws iam attach-group-policy --policy-arn arn:aws:iam::aws:policy/AmazonVPCFullAccess --group-name kops</span><br><span class="line"></span><br><span class="line">aws iam create-user --user-name kops</span><br><span class="line"></span><br><span class="line">aws iam add-user-to-group --user-name kops --group-name kops</span><br><span class="line"></span><br><span class="line">aws iam create-access-key --user-name kops</span><br></pre></td></tr></table></figure>
<p>These series of commands create an IAM user with the required permissions. Make sure to note the <code>SecretAccessKey</code> and <code>AccessKeyID</code> in the returned JSON as they will be useful for the next steps.</p>
<p>We can now configure the aws cli to use the new access key id and secret keys as follows:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aws configure</span><br></pre></td></tr></table></figure>

<p>Finally, weâ€™ll export the variables so that we can use them with kops, as follows:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> AWS_ACCESS_KEY_ID=$(aws configure get aws_access_key_id)</span><br><span class="line"><span class="built_in">export</span> AWS_SECRET_ACCESS_KEY=$(aws configure get aws_secret_access_key)</span><br></pre></td></tr></table></figure>

<h2 id="Creating-the-cluster-state-storage"><a href="#Creating-the-cluster-state-storage" class="headerlink" title="Creating the cluster state storage"></a>Creating the cluster state storage</h2><p>To store the state and representation of the cluster, we need to create a dedicated s3 bucket for the use of kops, with the region set to <code>us-east-1</code>. Confining the bucket to <code>us-east-1</code> minimizes the amount of configuration required.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">aws s3api create-bucket \</span><br><span class="line">    --bucket flask-testing-app-state-store \</span><br><span class="line">    --region us-east-1</span><br></pre></td></tr></table></figure>
<p>Having created our s3 bucket, we can now proceed to create the cluster.</p>
<h2 id="Creating-the-cluster"><a href="#Creating-the-cluster" class="headerlink" title="Creating the cluster"></a>Creating the cluster</h2><p>Before creating the cluster, we need to export 2 environment variables that we will use with kops during the cluster creation process,<br>passing in the url of the s3 bucket created in the previous step to the state store as follows:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> NAME=flask-moringa-app.k8s.local</span><br><span class="line"><span class="built_in">export</span> KOPS_STATE_STORE=s3://flask-moringa-app-state-store</span><br></pre></td></tr></table></figure>

<p>That done, we will be creating our cluster in <code>us-east-2</code>. We can check for availability zones in <code>us-east-2</code> as follows:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aws ec2 describe-availability-zones --region us-east-2</span><br></pre></td></tr></table></figure>

<p>You should get a list of 3 or more availability zones. In my case, I received <code>us-east-2a, us-east-2b, us-east-2c</code>. We can choose to create the cluster in the <code>us-east-2a</code> zone as follows:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kops create cluster \</span><br><span class="line">    --zones=us-east-2a \</span><br><span class="line">    <span class="variable">$&#123;NAME&#125;</span></span><br></pre></td></tr></table></figure>

<p>This command creates our instances within auto-scaling groups, which means AWS takes care of their recovery and self-healing.</p>
<p>We can now build the cluster using the update cluster command as follows:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kops update cluster <span class="variable">$&#123;NAME&#125;</span> --yes</span><br></pre></td></tr></table></figure>
<p>Voila! We have successfully created our cluster. In the next article, we will see how we can create the cluster resources.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>In this article, we have seen how we can create a repository in ECR to host our docker images, and how we can push our docker images to ECR. We have also seen how to use <code>kops</code> to create our Kubernetes cluster. </p>
<p>We will proceed in the next article to show how we can now create the cluster resources and infrastructure required to run our app successfully.</p>
<p>See you then!</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="https://github.com/allan690" target="_blank" rel="noopener">Projects</a></li>
         
          <li><a href="/contact/">Contact</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pushing-Images-to-AWS-ECR"><span class="toc-number">2.</span> <span class="toc-text">Pushing Images to AWS ECR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-the-K8s-cluster"><span class="toc-number">3.</span> <span class="toc-text">Creating the K8s cluster</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-the-cluster-state-storage"><span class="toc-number">4.</span> <span class="toc-text">Creating the cluster state storage</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-the-cluster"><span class="toc-number">5.</span> <span class="toc-text">Creating the cluster</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-number">6.</span> <span class="toc-text">Conclusion</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/" target="_blank" rel="noopener"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&text=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&title=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&is_video=false&description=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Deploying a Flask App to Kubernetes on AWS - Part 2&body=Check out this article: https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&title=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&title=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&title=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&title=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&name=Deploying a Flask App to Kubernetes on AWS - Part 2&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://allanmogusu.tk/2020/06/11/devops/deploying-flask-app-to-k8s-aws-part-2/&t=Deploying a Flask App to Kubernetes on AWS - Part 2" target="_blank" rel="noopener"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2021
    Allan Mogusu
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="https://github.com/allan690" target="_blank" rel="noopener">Projects</a></li>
         
          <li><a href="/contact/">Contact</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
